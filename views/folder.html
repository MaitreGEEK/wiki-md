<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="robots" content="noindex">
	<title>{{folder_name}} - Wiki-MD</title>
	<link rel="stylesheet" href="/public/styles.css">
</head>
<body>
	<header>
		<nav>
			<a href="/" class="logo">ğŸ“š Wiki-MD</a>
			<div class="nav-links">
				<a href="/articles">Articles</a>
			</div>
		</nav>
	</header>

	<div class="container">
		<h1>ğŸ“ {{folder_name}}</h1>
		<p>{{folder_description}}</p>
		
		<div id="articles-list" class="grid grid-2" style="margin-top: 2rem;"></div>
	</div>

	<script>
		async function loadFolderArticles() {
			const response = await fetch('/api/articles');
			const allArticles = await response.json();
			const articles = allArticles.filter(a => a.folder_id == {{folder_id}});
			
			const container = document.getElementById('articles-list');
			container.innerHTML = articles.map(article => `
				<div class="card" onclick="location.href='/article/${article.slug}'">
					${article.image ? `<img src="${article.image}" alt="${article.title}" style="width:100%; border-radius: 8px; margin-bottom: 1rem;">` : ''}
					<h3>${article.title}</h3>
					<p class="article-meta">${article.description || ''}</p>
					<p class="article-meta">ğŸ“… ${new Date(article.created_at).toLocaleDateString('fr-FR')}</p>
				</div>
			`).join('');
		}

		loadFolderArticles();
	</script>
</body>
</html>
